!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=14)}([function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){e.exports=r(22)},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"e",(function(){return s})),r.d(t,"d",(function(){return a}));var n=function(e,t){if(0===e)return"0 Bytes";var r=t<=0?0:t||2,n=Math.floor(Math.log(e)/Math.log(1024)),o=parseFloat((e/Math.pow(1024,n)).toFixed(r)),i=["Bytes","KB","MB","GB"][n];return"".concat(o," ").concat(i)},o=function(e,t){return t?"".concat(t,"-").concat(e):e},i=function(e,t,r){var n=o(t,r),i=e.querySelector('[name="'.concat(n,'"]'));return i||(console.error("Cannot find input with name '".concat(n,"'")),null)},s=function(e,t){return"placeholder-".concat(function(e,t){return t?e.slice(t.length+1):e}(e,t))},a=function(e,t,r){var n;return null===(n=i(e,t,r))||void 0===n?void 0:n.value}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,l,"next",e)}function l(e){r(s,o,i,a,l,"throw",e)}a(void 0)}))}}},function(e,t,r){var n=r(16),o=r(17),i=r(18),s=r(19);e.exports=function(e){return n(e)||o(e)||i(e)||s()}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.2",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e.charAt(r)]=r;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(r>>>18),b64chars.charAt(r>>>12&63),t>=2?"=":b64chars.charAt(r>>>6&63),t>=1?"=":b64chars.charAt(63&r)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)?e.toString("base64"):btoa(utob(String(e)))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(e)},encodeURI=function(e){return encode(e,!0)},re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,r=t%4,n=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(255&n)];return o.length-=[0,0,2,1][r],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__(7))},function(e,t,r){"use strict";(function(t){var n=r(20),o=r(21),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(e){return(e||"").toString().replace(a,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function h(e){var r,n=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},s=typeof(e=e||n);if("blob:"===e.protocol)o=new d(unescape(e.pathname),{});else if("string"===s)for(r in o=new d(e,{}),c)delete o[r];else if("object"===s){for(r in e)r in c||(o[r]=e[r]);void 0===o.slashes&&(o.slashes=i.test(e.href))}return o}function f(e){e=l(e);var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function d(e,t,r){if(e=l(e),!(this instanceof d))return new d(e,t,r);var i,s,a,c,p,v,m=u.slice(),g=typeof t,_=this,y=0;for("object"!==g&&"string"!==g&&(r=t,t=null),r&&"function"!=typeof r&&(r=o.parse),t=h(t),i=!(s=f(e||"")).protocol&&!s.slashes,_.slashes=s.slashes||i&&t.slashes,_.protocol=s.protocol||t.protocol||"",e=s.rest,s.slashes||(m[3]=[/(.*)/,"pathname"]);y<m.length;y++)"function"!=typeof(c=m[y])?(a=c[0],v=c[1],a!=a?_[v]=e:"string"==typeof a?~(p=e.indexOf(a))&&("number"==typeof c[2]?(_[v]=e.slice(0,p),e=e.slice(p+c[2])):(_[v]=e.slice(p),e=e.slice(0,p))):(p=a.exec(e))&&(_[v]=p[1],e=e.slice(0,p.index)),_[v]=_[v]||i&&c[3]&&t[v]||"",c[4]&&(_[v]=_[v].toLowerCase())):e=c(e);r&&(_.query=r(_.query)),i&&t.slashes&&"/"!==_.pathname.charAt(0)&&(""!==_.pathname||""!==t.pathname)&&(_.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,o=r[n-1],i=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(i=!0),r.splice(n,1),s--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(_.pathname,t.pathname)),n(_.port,_.protocol)||(_.host=_.hostname,_.port=""),_.username=_.password="",_.auth&&(c=_.auth.split(":"),_.username=c[0]||"",_.password=c[1]||""),_.origin=_.protocol&&_.host&&"file:"!==_.protocol?_.protocol+"//"+_.host:"null",_.href=_.toString()}d.prototype={set:function(e,t,r){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,n(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!r;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";i[e]=t.charAt(0)!==s?s+t:t}else i[e]=t;break;default:i[e]=t}for(var a=0;a<u.length;a++){var l=u[a];l[4]&&(i[l[1]]=i[l[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var i=n+(r.slashes?"//":"");return r.username&&(i+=r.username,r.password&&(i+=":"+r.password),i+="@"),i+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(i+=r.hash),i}},d.extractProtocol=f,d.location=h,d.trimLeft=l,d.qs=o,e.exports=d}).call(this,r(7))},function(e,t,r){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var n=/["'&<>]/;e.exports=function(e){var t,r=""+e,o=n.exec(r);if(!o)return r;var i="",s=0,a=0;for(s=o.index;s<r.length;s++){switch(r.charCodeAt(s)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==s&&(i+=r.substring(a,s)),a=s+1,i+=t}return a!==s?i+r.substring(a,s):i}},function(e,t){e.exports=function(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}},function(e,t,r){"use strict";var n=r(5),o=r.n(n),i=r(3),s=r.n(i),a=r(6),l=r.n(a),u=r(0),c=r.n(u);class h extends Error{constructor(e,t=null,r=null,n=null){if(super(e),this.originalRequest=r,this.originalResponse=n,this.causingError=t,null!=t&&(e+=", caused by "+t.toString()),null!=r){const t=r.getHeader("X-Request-ID")||"n/a";e+=`, originated from request (method: ${r.getMethod()}, url: ${r.getURL()}, response code: ${n?n.getStatus():"n/a"}, response text: ${n?n.getBody()||"":"n/a"}, request id: ${t})`}this.message=e}}var f=h;var d=r(9),p=r(10),v=r.n(p);let m=!1;function g(e){m&&console.log(e)}const _={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null};class y{constructor(e,t){"resume"in t&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=t,this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}static terminate(e,t={},r){if("function"==typeof t||"function"==typeof r)throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");const n=x("DELETE",e,t);return n.send().then(e=>{if(204!==e.getStatus())throw new f("tus: unexpected response while terminating upload",null,n,e)}).catch(r=>{if(r instanceof f||(r=new f("tus: failed to terminate upload",r,n,null)),!U(r,0,t))throw r;const o=t.retryDelays[0],i=t.retryDelays.slice(1),s={...t,retryDelays:i};return new Promise(e=>setTimeout(e,o)).then(()=>y.terminate(e,s))})}findPreviousUploads(){return this.options.fingerprint(this.file,this.options).then(e=>this._urlStorage.findUploadsByFingerprint(e))}resumeFromPreviousUpload(e){this.url=e.uploadUrl||null,this._parallelUploadUrls=e.parallelUploadUrls||null,this._urlStorageKey=e.urlStorageKey}start(){let e=this.file;if(!e)return void this._emitError(new Error("tus: no file or stream to upload provided"));if(!this.options.endpoint&&!this.options.uploadUrl)return void this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));const t=this.options.retryDelays;null==t||"[object Array]"===Object.prototype.toString.call(t)?(this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach(e=>{this.options[e]&&this._emitError(new Error(`tus: cannot use the ${e} option when parallelUploads is enabled`))}),this.options.fingerprint(e,this.options).then(t=>(g(null==t?"No fingerprint was calculated meaning that the upload cannot be stored in the URL storage.":"Calculated fingerprint: "+t),this._fingerprint=t,this._source?this._source:this.options.fileReader.openFile(e,this.options.chunkSize))).then(e=>{this._source=e,this.options.parallelUploads>1||null!=this._parallelUploadUrls?this._startParallelUpload():this._startSingleUpload()}).catch(e=>{this._emitError(e)})):this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}_startParallelUpload(){const e=this._size=this._source.size;let t=0;this._parallelUploads=[];const r=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,n=function(e,t,r){const n=Math.floor(e/t),o=[];for(let e=0;e<t;e++)o.push({start:n*e,end:n*(e+1)});o[t-1].end=e,r&&o.forEach((e,t)=>{e.uploadUrl=r[t]||null});return o}(this._source.size,r,this._parallelUploadUrls);this._parallelUploadUrls=new Array(n.length);const o=n.map((r,o)=>{let i=0;return this._source.slice(r.start,r.end).then(({value:s})=>new Promise((a,l)=>{const u={...this.options,uploadUrl:r.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:{...this.options.headers,"Upload-Concat":"partial"},onSuccess:a,onError:l,onProgress:r=>{t=t-i+r,i=r,this._emitProgress(t,e)},_onUploadUrlAvailable:()=>{this._parallelUploadUrls[o]=c.url,this._parallelUploadUrls.filter(e=>!!e).length===n.length&&this._saveUploadInUrlStorage()}},c=new y(s,u);c.start(),this._parallelUploads.push(c)}))});let i;Promise.all(o).then(()=>{i=this._openRequest("POST",this.options.endpoint),i.setHeader("Upload-Concat","final;"+this._parallelUploadUrls.join(" "));var e=b(this.options.metadata);return""!==e&&i.setHeader("Upload-Metadata",e),i.send(null)}).then(e=>{if(!w(e.getStatus(),200))return void this._emitHttpError(i,e,"tus: unexpected response while creating upload");const t=e.getHeader("Location");null!=t?(this.url=E(this.options.endpoint,t),g("Created upload at "+this.url),this._emitSuccess()):this._emitHttpError(i,e,"tus: invalid or missing Location header")}).catch(e=>{this._emitError(e)})}_startSingleUpload(){if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){if(this._size=+this.options.uploadSize,isNaN(this._size))return void this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(this._size=this._source.size,null==this._size)return void this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return this._aborted=!1,null!=this.url?(g("Resuming upload from previous URL: "+this.url),void this._resumeUpload()):null!=this.options.uploadUrl?(g("Resuming upload from provided URL: "+this.options.url),this.url=this.options.uploadUrl,void this._resumeUpload()):(g("Creating a new upload"),void this._createUpload())}abort(e,t){if("function"==typeof t)throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return null!=this._parallelUploads&&this._parallelUploads.forEach(t=>{t.abort(e)}),null!==this._req&&(this._req.abort(),this._source.close()),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),e&&null!=this.url?y.terminate(this.url,this.options).then(()=>this._removeFromUrlStorage()):Promise.resolve()}_emitHttpError(e,t,r,n){this._emitError(new f(r,n,e,t))}_emitError(e){if(!this._aborted){if(null!=this.options.retryDelays){if(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),U(e,this._retryAttempt,this.options)){let e=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout(()=>{this.start()},e))}}if("function"!=typeof this.options.onError)throw e;this.options.onError(e)}}_emitSuccess(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"==typeof this.options.onSuccess&&this.options.onSuccess()}_emitProgress(e,t){"function"==typeof this.options.onProgress&&this.options.onProgress(e,t)}_emitChunkComplete(e,t,r){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,r)}_createUpload(){if(!this.options.endpoint)return void this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));let e=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?e.setHeader("Upload-Defer-Length",1):e.setHeader("Upload-Length",this._size);var t=b(this.options.metadata);let r;""!==t&&e.setHeader("Upload-Metadata",t),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,r=this._addChunkToRequest(e)):r=e.send(null),r.then(t=>{if(!w(t.getStatus(),200))return void this._emitHttpError(e,t,"tus: unexpected response while creating upload");const r=t.getHeader("Location");if(null!=r){if(this.url=E(this.options.endpoint,r),g("Created upload at "+this.url),"function"==typeof this.options._onUploadUrlAvailable&&this.options._onUploadUrlAvailable(),0===this._size)return this._emitSuccess(),void this._source.close();this._saveUploadInUrlStorage(),this.options.uploadDataDuringCreation?this._handleUploadResponse(e,t):(this._offset=0,this._performUpload())}else this._emitHttpError(e,t,"tus: invalid or missing Location header")}).catch(t=>{this._emitHttpError(e,null,"tus: failed to create upload",t)})}_resumeUpload(){const e=this._openRequest("HEAD",this.url);e.send(null).then(t=>{const r=t.getStatus();if(!w(r,200))return w(r,400)&&this._removeFromUrlStorage(),423===r?void this._emitHttpError(e,t,"tus: upload is currently locked; retry later"):this.options.endpoint?(this.url=null,void this._createUpload()):void this._emitHttpError(e,t,"tus: unable to resume upload (new upload cannot be created without an endpoint)");let n=parseInt(t.getHeader("Upload-Offset"),10);if(isNaN(n))return void this._emitHttpError(e,t,"tus: invalid or missing offset value");let o=parseInt(t.getHeader("Upload-Length"),10);if(!isNaN(o)||this.options.uploadLengthDeferred){if("function"==typeof this.options._onUploadUrlAvailable&&this.options._onUploadUrlAvailable(),n===o)return this._emitProgress(o,o),void this._emitSuccess();this._offset=n,this._performUpload()}else this._emitHttpError(e,t,"tus: invalid or missing length value")}).catch(t=>{this._emitHttpError(e,null,"tus: failed to resume upload",t)})}_performUpload(){if(this._aborted)return;let e;this.options.overridePatchMethod?(e=this._openRequest("POST",this.url),e.setHeader("X-HTTP-Method-Override","PATCH")):e=this._openRequest("PATCH",this.url),e.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(e).then(t=>{w(t.getStatus(),200)?this._handleUploadResponse(e,t):this._emitHttpError(e,t,"tus: unexpected response while uploading chunk")}).catch(t=>{this._aborted||this._emitHttpError(e,null,"tus: failed to upload chunk at offset "+this._offset,t)})}_addChunkToRequest(e){let t=this._offset,r=this._offset+this.options.chunkSize;return e.setProgressHandler(e=>{this._emitProgress(t+e,this._size)}),e.setHeader("Content-Type","application/offset+octet-stream"),(r===1/0||r>this._size)&&!this.options.uploadLengthDeferred&&(r=this._size),this._source.slice(t,r).then(({value:t,done:r})=>(this.options.uploadLengthDeferred&&r&&(this._size=this._offset+(t&&t.size?t.size:0),e.setHeader("Upload-Length",this._size)),null===t?e.send():(this._emitProgress(this._offset,this._size),e.send(t))))}_handleUploadResponse(e,t){let r=parseInt(t.getHeader("Upload-Offset"),10);if(isNaN(r))this._emitHttpError(e,t,"tus: invalid or missing offset value");else{if(this._emitProgress(r,this._size),this._emitChunkComplete(r-this._offset,r,this._size),this._offset=r,r==this._size)return this._emitSuccess(),void this._source.close();this._performUpload()}}_openRequest(e,t){const r=x(e,t,this.options);return this._req=r,r}_removeFromUrlStorage(){this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(e=>{this._emitError(e)}),this._urlStorageKey=null)}_saveUploadInUrlStorage(){if(!this.options.storeFingerprintForResuming||!this._fingerprint)return;const e={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};this._parallelUploads?e.parallelUploadUrls=this._parallelUploadUrls:e.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,e).then(e=>this._urlStorageKey=e).catch(e=>{this._emitError(e)})}}function b(e){var t=[];for(var r in e)t.push(r+" "+d.Base64.encode(e[r]));return t.join(",")}function w(e,t){return e>=t&&e<t+100}function x(e,t,r){const n=r.httpStack.createRequest(e,t);n.setHeader("Tus-Resumable","1.0.0");let o=r.headers||{};for(let e in o)n.setHeader(e,o[e]);if(r.addRequestId){const e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}));n.setHeader("X-Request-ID",e)}return n}function U(e,t,r){let n=e.originalResponse?e.originalResponse.getStatus():0,o=!w(n,400)||409===n||423===n;return null!=r.retryDelays&&t<r.retryDelays.length&&null!=e.originalRequest&&o&&function(){let e=!0;return"undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(e=!1),e}()}function E(e,t){return new v.a(t,e).toString()}y.defaultOptions=_;var S=y;let C=!1;try{C="localStorage"in window;localStorage.setItem("tusSupport",localStorage.getItem("tusSupport"))}catch(e){if(e.code!==e.SECURITY_ERR&&e.code!==e.QUOTA_EXCEEDED_ERR)throw e;C=!1}const D=C;class k{constructor(e,t){this._xhr=new XMLHttpRequest,this._xhr.open(e,t,!0),this._method=e,this._url=t,this._headers={}}getMethod(){return this._method}getURL(){return this._url}setHeader(e,t){this._xhr.setRequestHeader(e,t),this._headers[e]=t}getHeader(e){return this._headers[e]}setProgressHandler(e){"upload"in this._xhr&&(this._xhr.upload.onprogress=t=>{t.lengthComputable&&e(t.loaded)})}send(e=null){return new Promise((t,r)=>{this._xhr.onload=()=>{t(new A(this._xhr))},this._xhr.onerror=e=>{r(e)},this._xhr.send(e)})}abort(){return this._xhr.abort(),Promise.resolve()}getUnderlyingObject(){return this._xhr}}class A{constructor(e){this._xhr=e}getStatus(){return this._xhr.status}getHeader(e){return this._xhr.getResponseHeader(e)}getBody(){return this._xhr.responseText}getUnderlyingObject(){return this._xhr}}var P=()=>"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();var F=()=>"undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova);class O{constructor(e){this._file=e,this.size=e.size}slice(e,t){if(F())return r=this._file.slice(e,t),new Promise((e,t)=>{let n=new FileReader;n.onload=()=>{const t=new Uint8Array(n.result);e({value:t})},n.onerror=e=>{t(e)},n.readAsArrayBuffer(r)});var r;const n=this._file.slice(e,t);return Promise.resolve({value:n})}close(){}}class L{constructor(e,t){this._chunkSize=t,this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}slice(e,t){return e<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(e,t)}_readUntilEnoughDataOrDone(e,t){const r=t<=this._bufferOffset+R(this._buffer);if(this._done||r){var n=this._getDataFromBuffer(e,t),o=null==n&&this._done;return Promise.resolve({value:n,done:o})}return this._reader.read().then(({value:r,done:n})=>(n?this._done=!0:void 0===this._buffer?this._buffer=r:this._buffer=function(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}throw new Error("Unknown data type")}(this._buffer,r),this._readUntilEnoughDataOrDone(e,t)))}_getDataFromBuffer(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);const r=0===R(this._buffer);return this._done&&r?null:this._buffer.slice(0,t-e)}close(){this._reader.cancel&&this._reader.cancel()}}function R(e){return void 0===e?0:void 0!==e.size?e.size:e.length}const j={...S.defaultOptions,httpStack:new class{createRequest(e,t){return new k(e,t)}getName(){return"XHRHttpStack"}},fileReader:new class{openFile(e,t){return P()&&e&&void 0!==e.uri?(r=e.uri,new Promise((e,t)=>{const n=new XMLHttpRequest;n.responseType="blob",n.onload=()=>{const t=n.response;e(t)},n.onerror=e=>{t(e)},n.open("GET",r),n.send()})).then(e=>new O(e)).catch(e=>{throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. "+e)}):"function"==typeof e.slice&&void 0!==e.size?Promise.resolve(new O(e)):"function"==typeof e.read?(t=+t,isFinite(t)?Promise.resolve(new L(e,t)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"));var r}},urlStorage:D?new class{findAllUploads(){const e=this._findEntries("tus::");return Promise.resolve(e)}findUploadsByFingerprint(e){const t=this._findEntries(`tus::${e}::`);return Promise.resolve(t)}removeUpload(e){return localStorage.removeItem(e),Promise.resolve()}addUpload(e,t){const r=`tus::${e}::${Math.round(1e12*Math.random())}`;return localStorage.setItem(r,JSON.stringify(t)),Promise.resolve(r)}_findEntries(e){const t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);if(0===n.indexOf(e))try{let e=JSON.parse(localStorage.getItem(n));e.urlStorageKey=n,t.push(e)}catch(e){}}return t}}:new class{listAllUploads(){return Promise.resolve([])}findUploadsByFingerprint(e){return Promise.resolve([])}removeUpload(e){return Promise.resolve()}addUpload(e,t){return Promise.resolve(null)}},fingerprint:function(e,t){return P()?Promise.resolve(function(e,t){let r=e.exif?function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);t=(t<<5)-t+n,t&=t}return t}(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",r,t.endpoint].join("/")}(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}};class H extends S{constructor(e=null,t={}){super(e,t={...j,...t})}static terminate(e,t,r){return t={...j,...t},S.terminate(e,t,r)}}const{XMLHttpRequest:q,Blob:z}=window;q&&z&&z.prototype.slice;var I=r(2),N=r(11),T=r.n(N),B=function(){function e(t){var r=t.parent,n=t.input,o=t.skipRequired,i=t.translations;s()(this,e),c()(this,"container",void 0),c()(this,"input",void 0),c()(this,"translations",void 0),c()(this,"createFilesContainer",(function(e){var t=document.createElement("div");return t.className="dff-files",e.appendChild(t),t})),this.container=this.createFilesContainer(r),this.input=n,this.translations=i,o&&(this.input.required=!1)}return l()(e,[{key:"addUploadedFile",value:function(e,t,r){this.addFile(e,t),this.setSuccess(t,r)}},{key:"addNewUpload",value:function(e,t){var r=this.addFile(e,t),n=document.createElement("span");n.className="dff-progress";var o=document.createElement("span");o.className="dff-progress-inner",n.appendChild(o),r.appendChild(n);var i=document.createElement("a");i.className="dff-cancel",i.innerHTML=this.translations.Cancel,i.setAttribute("data-index","".concat(t)),i.href="#",r.appendChild(i)}},{key:"addFile",value:function(e,t){var r=document.createElement("div");r.className="dff-file dff-file-id-".concat(t);var n=document.createElement("span");return n.innerHTML=T()(e),r.appendChild(n),this.container.appendChild(r),this.input.required=!1,r}},{key:"deleteFile",value:function(e){var t=this.findFileDiv(e);t&&t.remove()}},{key:"setError",value:function(e){var t=document.createElement("span");t.classList.add("dff-error"),t.innerHTML=this.translations["Upload failed"];var r=this.findFileDiv(e);r&&(r.appendChild(t),r.classList.add("dff-upload-fail")),this.removeProgress(e),this.removeCancel(e)}},{key:"setDeleteFailed",value:function(e){var t=this.findFileDiv(e);if(t){var r=document.createElement("span");r.innerHTML=this.translations["Delete failed"],t.appendChild(r)}}},{key:"findFileDiv",value:function(e){return this.container.querySelector(".dff-file-id-".concat(e))}},{key:"setSuccess",value:function(e,t){var r=this.translations,n=this.findFileDiv(e);if(n){n.classList.add("dff-upload-success");var o=document.createElement("span");o.innerHTML=Object(I.b)(t,2),o.className="dff-filesize",n.appendChild(o);var i=document.createElement("a");i.innerHTML=r.Delete,i.className="dff-delete",i.setAttribute("data-index","".concat(e)),i.href="#",n.appendChild(i)}this.removeProgress(e),this.removeCancel(e)}},{key:"removeProgress",value:function(e){var t=this.findFileDiv(e);if(t){var r=t.querySelector(".dff-progress");r&&r.remove()}}},{key:"removeCancel",value:function(e){var t=this.findFileDiv(e);if(t){var r=t.querySelector(".dff-cancel");r&&r.remove()}}},{key:"clearInput",value:function(){this.input.value=""}},{key:"updateProgress",value:function(e,t){var r=this.container.querySelector(".dff-file-id-".concat(e));if(r){var n=r.querySelector(".dff-progress-inner");n&&(n.style.width="".concat(t,"%"))}}},{key:"renderDropHint",value:function(){if(!this.container.querySelector(".dff-drop-hint")){var e=document.createElement("div");e.className="dff-drop-hint",e.innerHTML=this.translations["Drop your files here"],this.container.appendChild(e)}}},{key:"removeDropHint",value:function(){var e=this.container.querySelector(".dff-drop-hint");e&&e.remove()}}]),e}(),M=r(1),K=r.n(M),G=r(4),$=r.n(G),X=r(12),W=r.n(X),J=function(){var e=$()(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){return t.createReader().readEntries(e,r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=$()(K.a.mark((function e(t){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){return t.file(e,r)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=$()(K.a.mark((function e(t){var r,n,o,i,s,a,l,u,c,h;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=!0,o=!1,e.prev=3,s=W()(t);case 5:return e.next=7,s.next();case 7:return a=e.sent,n=a.done,e.next=11,a.value;case 11:if(l=e.sent,n){e.next=32;break}if(!(u=l).isFile){e.next=21;break}return e.next=17,Y(u);case 17:c=e.sent,r.push(c),e.next=29;break;case 21:if(!u.isDirectory){e.next=29;break}return e.next=24,J(u);case 24:return h=e.sent,e.next=27,Z(h);case 27:e.sent.forEach((function(e){return r.push(e)}));case 29:n=!0,e.next=5;break;case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(3),o=!0,i=e.t0;case 38:if(e.prev=38,e.prev=39,n||null==s.return){e.next=43;break}return e.next=43,s.return();case 43:if(e.prev=43,!o){e.next=46;break}throw i;case 46:return e.finish(43);case 47:return e.finish(38);case 48:return e.abrupt("return",r);case 49:case"end":return e.stop()}}),e,null,[[3,34,38,48],[39,,43,47]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=$()(K.a.mark((function e(t){var r,n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.items){e.next=8;break}return r=o()(t.items).map((function(e){return e.webkitGetAsEntry()})),e.next=4,Z(r);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.abrupt("return",o()(t.files));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function e(t){var r=this,n=t.container,o=t.onUploadFiles;s()(this,e),c()(this,"container",void 0),c()(this,"onUploadFiles",void 0),c()(this,"onDrop",(function(e){var t=e;r.container.classList.remove("dff-dropping"),t.preventDefault(),t.stopPropagation(),function(){var e=$()(K.a.mark((function e(){var n;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.dataTransfer){e.next=6;break}return e.next=4,Q(t.dataTransfer);case 4:n=e.sent,r.onUploadFiles(n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()})),this.container=n,this.onUploadFiles=o,n.addEventListener("dragenter",(function(){n.classList.add("dff-dropping")})),n.addEventListener("dragleave",(function(){n.classList.remove("dff-dropping")})),n.addEventListener("dragover",(function(e){n.classList.add("dff-dropping"),e.preventDefault()})),n.addEventListener("drop",this.onDrop)},ee=function(){function e(t){var r=this,n=t.callbacks,i=t.fieldName,a=t.form,l=t.formId,u=t.initial,h=t.input,f=t.multiple,d=t.parent,p=t.prefix,v=t.retryDelays,m=t.skipRequired,g=t.supportDropArea,_=t.translations,y=t.uploadUrl;s()(this,e),c()(this,"callbacks",void 0),c()(this,"fieldName",void 0),c()(this,"form",void 0),c()(this,"formId",void 0),c()(this,"multiple",void 0),c()(this,"prefix",void 0),c()(this,"renderer",void 0),c()(this,"retryDelays",void 0),c()(this,"supportDropArea",void 0),c()(this,"uploadIndex",void 0),c()(this,"uploadUrl",void 0),c()(this,"uploads",void 0),c()(this,"uploadFiles",(function(e){0!==e.length&&(r.multiple||0===r.uploads.length||(r.renderer.deleteFile(0),r.uploads=[]),e.forEach((function(e){var t=r.fieldName,n=r.formId,o=r.renderer,i=r.uploads,s=r.uploadUrl,a=e.name,l=i.length,u=new H(e,{endpoint:s,metadata:{fieldName:t,filename:a,formId:n},onError:function(e){return r.handleError(l,e)},onProgress:function(e,t){return r.handleProgress(l,e,t)},onSuccess:function(){return r.handleSuccess(l,u.file.size)},retryDelays:r.retryDelays||[0,1e3,3e3,5e3]});u.start(),o.addNewUpload(a,l),r.uploads.push(u)})),r.checkDropHint())})),c()(this,"onChange",(function(e){r.uploadFiles(o()(e.target.files))})),c()(this,"onClick",(function(e){var t=e.target,n=function(){var e=t.getAttribute("data-index");return e?parseInt(e,10):null};if(t.classList.contains("dff-delete")){var o=n();null!==o&&r.handleDelete(o),e.preventDefault()}else if(t.classList.contains("dff-cancel")){var i=n();null!==i&&r.handleCancel(i),e.preventDefault()}})),c()(this,"handleProgress",(function(e,t,n){var o=(t/n*100).toFixed(2);r.renderer.updateProgress(e,o);var i=r.callbacks.onProgress;if(i){var s=r.uploads[e];s instanceof H&&i(t,n,s)}})),c()(this,"handleError",(function(e,t){r.renderer.setError(e);var n=r.callbacks.onError;if(n){var o=r.uploads[e];o instanceof H&&n(t,o)}})),c()(this,"handleSuccess",(function(e,t){var n=r.renderer;n.clearInput(),n.setSuccess(e,t);var o=r.callbacks.onSuccess;if(o){var i=r.uploads[e];i instanceof H&&o(i)}})),this.callbacks=n,this.fieldName=i,this.form=a,this.formId=l,this.multiple=f,this.prefix=p,this.retryDelays=v,this.supportDropArea=g,this.uploadUrl=y,this.uploadIndex=0,this.uploads=[],this.renderer=new B({parent:d,input:h,skipRequired:m,translations:_});var b=this.renderer.container;g&&this.initDropArea(b),u&&this.addInitialFiles(u),this.checkDropHint(),h.addEventListener("change",this.onChange),b.addEventListener("click",this.onClick)}return l()(e,[{key:"addInitialFiles",value:function(e){var t=this;if(0!==e.length){var r=this.multiple,n=this.renderer,o=function(e,r){var o=e.id,i=e.name,s=e.size;if(n.addUploadedFile(i,r,s),e.placeholder)t.uploads.push({id:o,name:i,placeholder:!0,size:s});else{var a="".concat(t.uploadUrl).concat(e.id);t.uploads.push({id:o,name:i,placeholder:!1,size:s,url:a})}};if(r){var i=0;e.forEach((function(e){o(e,i),i+=1}))}else o(e[0],0)}}},{key:"handleDelete",value:function(e){this.uploads[e]instanceof H?this.deleteFromServer(e):this.deletePlaceholder(e)}},{key:"deleteUpload",value:function(e){var t=this.uploads[e];this.renderer.deleteFile(e),delete this.uploads[e],this.checkDropHint();var r=this.callbacks.onDelete;r&&r(t)}},{key:"deleteFromServer",value:function(e){var t=this,r=this.uploads[e];if(r instanceof H){var n=r.url;if(n){var o=new window.XMLHttpRequest;o.open("DELETE",n),o.onload=function(){204===o.status?t.deleteUpload(e):t.renderer.setDeleteFailed(e)},o.setRequestHeader("Tus-Resumable","1.0.0"),o.send(null)}}}},{key:"deletePlaceholder",value:function(e){this.deleteUpload(e),this.updatePlaceholderInput()}},{key:"handleCancel",value:function(e){var t=this.uploads[e];t instanceof H&&(t.abort(!0),this.deleteUpload(e))}},{key:"initDropArea",value:function(e){new V({container:e,onUploadFiles:this.uploadFiles})}},{key:"checkDropHint",value:function(){this.supportDropArea&&(0===this.uploads.filter((function(e){return e})).length?this.renderer.renderDropHint():this.renderer.removeDropHint())}},{key:"updatePlaceholderInput",value:function(){var e=this.uploads.filter((function(e){return!(e instanceof H)&&e.placeholder})),t=Object(I.a)(this.form,Object(I.e)(this.fieldName,this.prefix),this.prefix);t&&(t.value=JSON.stringify(e))}}]),e}();t.a=ee},function(e,t,r){e.exports=r(15)},function(e,t,r){"use strict";r.r(t),function(e){var t=r(0),n=r.n(t),o=r(13),i=r(2);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return!t||!t.prefix||e.startsWith("".concat(t.prefix,"-"))},n=function(){return t&&t.prefix?t.prefix:null},s=function(t){return Object(i.d)(e,t,n())},a=function(e){var t=e.dataset.files;return t?JSON.parse(t):[]},l=function(e){var t=s(Object(i.e)(e,n()));return t?JSON.parse(t):[]},u=s("upload_url"),c=s("form_id"),h=t.skipRequired||!1,f=n();c&&u&&e.querySelectorAll(".dff-uploader").forEach((function(n){var i=n.querySelector(".dff-container");if(i){var s=i.querySelector("input[type=file]");if(s&&r(s.name)){var d=s.name,p=s.multiple,v=a(i).concat(l(d)),m=i.getAttribute("data-translations"),g=m?JSON.parse(m):{},_=!(!1===t.supportDropArea);new o.a({callbacks:t.callbacks||{},fieldName:d,form:e,formId:c,initial:v,input:s,multiple:p,parent:i,prefix:f,retryDelays:t.retryDelays||null,skipRequired:h,supportDropArea:_,translations:g,uploadUrl:u})}}}))};e.initFormSet=function(e,t){var r,n=(r="string"==typeof t?{prefix:t}:t).prefix||"form",o=Object(i.d)(e,"TOTAL_FORMS",n);if(o)for(var s=parseInt(o,10),u=0;u<s;u+=1){var c=Object(i.c)("".concat(u),null);l(e,a(a({},r),{},{prefix:"".concat(n,"-").concat(c)}))}},e.initUploadFields=l}.call(this,r(7))},function(e,t,r){var n=r(8);e.exports=function(e){if(Array.isArray(e))return n(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,r){var n=r(8);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,r){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,o,i=[];for(o in"string"!=typeof t&&(t="?"),e)if(n.call(e,o)){if((r=e[o])||null!=r&&!isNaN(r)||(r=""),o=encodeURIComponent(o),r=encodeURIComponent(r),null===o||null===r)continue;i.push(o+"="+r)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,n={};t=r.exec(e);){var i=o(t[1]),s=o(t[2]);null===i||null===s||i in n||(n[i]=s)}return n}},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(e,t,r,n){var o=t&&t.prototype instanceof c?t:c,i=Object.create(o.prototype),s=new x(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=y(s,r);if(a){if(a===u)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,s),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=a;var u={};function c(){}function h(){}function f(){}var d={};d[o]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(U([])));v&&v!==t&&r.call(v,o)&&(d=v);var m=f.prototype=c.prototype=Object.create(d);function g(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function _(e,t){var n;this._invoke=function(o,i){function s(){return new t((function(n,s){!function n(o,i,s,a){var u=l(e[o],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}(o,i,n,s)}))}return n=n?n.then(s,s):s()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function U(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=m.constructor=f,f.constructor=h,f[s]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(_.prototype),_.prototype[i]=function(){return this},e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var s=new _(a(t,r,n,o),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},g(m),m[s]="Generator",m[o]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=U,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),w(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;w(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:U(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}}]);
//# sourceMappingURL=file_form.js.map