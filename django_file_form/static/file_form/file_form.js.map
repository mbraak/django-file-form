{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/isReactNative.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/storage.js","webpack:///./node_modules/tus-js-client/lib.es5/index.js","webpack:///./node_modules/escape-html/index.js","webpack:///./file_form.js","webpack:///./node_modules/tus-js-client/lib.es5/upload.js","webpack:///./node_modules/tus-js-client/lib.es5/error.js","webpack:///./node_modules/extend/index.js","webpack:///./node_modules/js-base64/base64.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/request.js","webpack:///./node_modules/url-parse/index.js","webpack:///./node_modules/requires-port/index.js","webpack:///./node_modules/querystringify/index.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/source.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/uriToBlob.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/isCordova.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/readAsByteArray.js","webpack:///./node_modules/tus-js-client/lib.es5/browser/fingerprint.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","e","window","default","navigator","product","toLowerCase","_createClass","defineProperties","target","props","length","descriptor","configurable","writable","Constructor","protoProps","staticProps","getStorage","hasStorage","LocalStorage","localStorage","setItem","getItem","code","SECURITY_ERR","QUOTA_EXCEEDED_ERR","canStoreURLs","instance","TypeError","_classCallCheck","cb","removeItem","obj","_upload","_upload2","storage","newObj","_interopRequireWildcard","defaultOptions","moduleExport","Upload","_window","XMLHttpRequest","Blob","isSupported","slice","FileStorage","matchHtmlRegExp","string","escape","str","match","exec","html","index","lastIndex","charCodeAt","substring","RenderUploadFile","parent","input","skipRequired","translations","div","document","createElement","className","appendChild","container","createFilesContainer","required","filename","uploadIndex","filesize","addFile","setSuccess","progressSpan","innerSpan","cancelLink","innerHTML","Cancel","setAttribute","href","nameSpan","findFileDiv","remove","span","classList","add","el","removeProgress","removeCancel","querySelector","size","fileSizeInfo","bytes","decimals","dm","Math","floor","log","parseFloat","toFixed","formatBytes","deleteLink","Delete","cancelSpan","percentage","innerProgressSpan","style","width","dropHint","UploadFile","callbacks","fieldName","form","formId","initial","multiple","prefix","retryDelays","supportDropArea","uploadUrl","files","uploads","renderer","deleteFile","forEach","file","upload","endpoint","metadata","onError","error","handleError","onProgress","bytesUploaded","bytesTotal","handleProgress","onSuccess","handleSuccess","start","addNewUpload","push","checkDropHint","uploadFiles","contains","parseInt","getAttribute","handleDelete","preventDefault","handleCancel","updateProgress","setError","uploadedSize","clearInput","filesContainer","initDropArea","addInitialFiles","addEventListener","onChange","onClick","initialFiles","addInitialFile","id","addUploadedFile","placeholder","url","deletePlaceholder","deleteFromServer","onDelete","xhr","open","onload","status","deleteUpload","setDeleteFailed","setRequestHeader","send","updatePlaceholderInput","abort","DropArea","onUploadFiles","filter","renderDropHint","removeDropHint","placeholdersInfo","map","findInput","getPlaceholderFieldName","JSON","stringify","stopPropagation","dataTransfer","onDrop","getInputNameWithPrefix","getInputNameWithoutPrefix","inputNameWithPrefix","console","getInputValueForFormAndPrefix","initUploadFields","options","matchesPrefix","startsWith","getPrefix","getInputValue","getInitialFiles","element","filesData","dataset","parse","getPlaceholders","querySelectorAll","uploaderDiv","concat","global","initFormSet","optionsParam","formCount","subFormPrefix","_error2","_interopRequireDefault","_extend2","_jsBase","_request","_source","_storage","fingerprint","resume","onChunkComplete","headers","chunkSize","Infinity","withCredentials","uploadSize","overridePatchMethod","removeFingerprintOnSuccess","uploadLengthDeferred","urlStorage","fileReader","uploadDataDuringCreation","_xhr","_fingerprint","_offset","_aborted","_size","_retryAttempt","_retryTimeout","_offsetBeforeRetry","_this","_start","getSource","err","source","_emitError","Error","_this2","isNaN","toString","errorCallback","isOnline","onLine","originalRequest","isServerError","inStatusCategory","delay","setTimeout","_resumeUpload","_hasStorage","fingerprintValue","resumedUrl","_createUpload","shouldTerminate","_this3","close","clearTimeout","terminate","causingErr","bytesSent","bytesAccepted","setupXHR","_this4","newRequest","location","getResponseHeader","resolveUrl","_emitSuccess","_handleUploadResponse","_startUpload","_emitXhrError","onerror","_setupXHR","encoded","Base64","encode","join","encodeMetadata","_addChunkToRequest","_this5","offset","_emitProgress","_this6","_this7","onprogress","lengthComputable","loaded","end","complete","_this8","_emitChunkComplete","category","DetailedError","_Error","arguments","undefined","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","message","causingError","responseText","subClass","superClass","constructor","setPrototypeOf","_inherits","hasOwn","toStr","gOPD","getOwnPropertyDescriptor","isArray","arr","Array","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","setProperty","newValue","getProperty","extend","src","copy","copyIsArray","clone","deep","factory","_Base64","version","buffer","eval","b64chars","b64tab","bin","charAt","fromCharCode","String","cb_utob","cc","re_utob","utob","u","replace","cb_encode","ccc","padlen","ord","btoa","b","_encode","from","Uint8Array","urisafe","m0","encodeURI","re_btou","RegExp","cb_btou","cccc","btou","cb_decode","len","chars","_atob","atob","a","_decode","decode","noConflict","VERSION","fromBase64","toBase64","__buffer__","noEnum","v","extendString","origin","link","_urlParse2","_urlParse","qs","slashes","protocolre","left","trimLeft","rules","address","NaN","ignore","hash","query","lolcation","loc","finaldestination","type","protocol","Url","unescape","pathname","test","extractProtocol","rest","parser","relative","extracted","instruction","instructions","indexOf","base","path","split","last","unshift","up","splice","resolve","port","host","hostname","username","password","auth","set","part","fn","pop","char","ins","result","undef","has","decodeURIComponent","pairs","encodeURIComponent","callback","_isReactNative2","uri","_uriToBlob2","blob","FileSource","read","isFinite","StreamSource","_isCordova2","_readAsByteArray2","_file","chunk","reader","_chunkSize","_buffer","_bufferOffset","_reader","_done","_readUntilEnoughDataOrDone","hasEnoughData","_getDataFromBuffer","then","_ref","done","catch","hasAllDataBeenRead","cancel","blobOrArray","responseType","response","PhoneGap","Cordova","cordova","FileReader","readAsArrayBuffer","exifHash","exif","hashCode","reactNativeFingerprint","lastModified","_isReactNative"],"mappings":"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","file":"file_form.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar isReactNative = function isReactNative() {\n  return typeof navigator !== \"undefined\" && typeof navigator.product === \"string\" && navigator.product.toLowerCase() === \"reactnative\";\n};\n\nexports.default = isReactNative;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getStorage = getStorage;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* global window, localStorage */\n\nvar hasStorage = false;\ntry {\n  hasStorage = \"localStorage\" in window;\n\n  // Attempt to store and read entries from the local storage to detect Private\n  // Mode on Safari on iOS (see #49)\n  var key = \"tusSupport\";\n  localStorage.setItem(key, localStorage.getItem(key));\n} catch (e) {\n  // If we try to access localStorage inside a sandboxed iframe, a SecurityError\n  // is thrown. When in private mode on iOS Safari, a QuotaExceededError is\n  // thrown (see #49)\n  if (e.code === e.SECURITY_ERR || e.code === e.QUOTA_EXCEEDED_ERR) {\n    hasStorage = false;\n  } else {\n    throw e;\n  }\n}\n\nvar canStoreURLs = exports.canStoreURLs = hasStorage;\n\nvar LocalStorage = function () {\n  function LocalStorage() {\n    _classCallCheck(this, LocalStorage);\n  }\n\n  _createClass(LocalStorage, [{\n    key: \"setItem\",\n    value: function setItem(key, value, cb) {\n      cb(null, localStorage.setItem(key, value));\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(key, cb) {\n      cb(null, localStorage.getItem(key));\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(key, cb) {\n      cb(null, localStorage.removeItem(key));\n    }\n  }]);\n\n  return LocalStorage;\n}();\n\nfunction getStorage() {\n  return hasStorage ? new LocalStorage() : null;\n}","\"use strict\";\n\nvar _upload = require(\"./upload\");\n\nvar _upload2 = _interopRequireDefault(_upload);\n\nvar _storage = require(\"./node/storage\");\n\nvar storage = _interopRequireWildcard(_storage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* global window */\nvar defaultOptions = _upload2.default.defaultOptions;\n\n\nvar moduleExport = {\n  Upload: _upload2.default,\n  canStoreURLs: storage.canStoreURLs,\n  defaultOptions: defaultOptions\n};\n\nif (typeof window !== \"undefined\") {\n  // Browser environment using XMLHttpRequest\n  var _window = window,\n      XMLHttpRequest = _window.XMLHttpRequest,\n      Blob = _window.Blob;\n\n\n  moduleExport.isSupported = XMLHttpRequest && Blob && typeof Blob.prototype.slice === \"function\";\n} else {\n  // Node.js environment using http module\n  moduleExport.isSupported = true;\n  // make FileStorage module available as it will not be set by default.\n  moduleExport.FileStorage = storage.FileStorage;\n}\n\n// The usage of the commonjs exporting syntax instead of the new ECMAScript\n// one is actually inteded and prevents weird behaviour if we are trying to\n// import this module in another module using Babel.\nmodule.exports = moduleExport;","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","/* global document, window */\n\nimport { Upload } from \"tus-js-client\";\nimport escape from \"escape-html\";\n\nfunction formatBytes(bytes, decimals) {\n  if (bytes === 0) {\n    return \"0 Bytes\";\n  }\n\n  const k = 1024;\n  const dm = decimals <= 0 ? 0 : decimals || 2;\n  const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\"];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  const n = parseFloat((bytes / k ** i).toFixed(dm));\n  const size = sizes[i];\n\n  return `${n} ${size}`;\n}\n\nclass RenderUploadFile {\n  constructor({ parent, input, skipRequired, translations }) {\n    this.container = this.createFilesContainer(parent);\n    this.input = input;\n    this.translations = translations;\n\n    if (skipRequired) {\n      this.input.required = false;\n    }\n  }\n\n  createFilesContainer = parent => {\n    const div = document.createElement(\"div\");\n    div.className = \"dff-files\";\n    parent.appendChild(div);\n\n    return div;\n  };\n\n  addUploadedFile(filename, uploadIndex, filesize) {\n    this.addFile(filename, uploadIndex);\n    this.setSuccess(uploadIndex, filesize);\n  }\n\n  addNewUpload(filename, uploadIndex) {\n    const div = this.addFile(filename, uploadIndex);\n\n    const progressSpan = document.createElement(\"span\");\n    progressSpan.className = \"dff-progress\";\n\n    const innerSpan = document.createElement(\"span\");\n    innerSpan.className = \"dff-progress-inner\";\n\n    progressSpan.appendChild(innerSpan);\n    div.appendChild(progressSpan);\n\n    const cancelLink = document.createElement(\"a\");\n    cancelLink.className = \"dff-cancel\";\n    cancelLink.innerHTML = this.translations.Cancel;\n    cancelLink.setAttribute(\"data-index\", uploadIndex);\n    cancelLink.href = \"#\";\n    div.appendChild(cancelLink);\n  }\n\n  addFile(filename, uploadIndex) {\n    const div = document.createElement(\"div\");\n    div.className = `dff-file dff-file-id-${uploadIndex}`;\n\n    const nameSpan = document.createElement(\"span\");\n    nameSpan.innerHTML = escape(filename);\n\n    div.appendChild(nameSpan);\n    this.container.appendChild(div);\n\n    this.input.required = false;\n    return div;\n  }\n\n  deleteFile(index) {\n    const div = this.findFileDiv(index);\n\n    if (div) {\n      div.remove();\n    }\n  }\n\n  setError(index) {\n    const span = document.createElement(\"span\");\n    span.classList.add(\"dff-error\");\n    span.innerHTML = this.translations[\"Upload failed\"];\n\n    const el = this.findFileDiv(index);\n    el.appendChild(span);\n    el.classList.add(\"dff-upload-fail\");\n\n    this.removeProgress(index);\n    this.removeCancel(index);\n  }\n\n  setDeleteFailed(index) {\n    const el = this.findFileDiv(index);\n\n    const span = document.createElement(\"span\");\n    span.innerHTML = this.translations[\"Delete failed\"];\n\n    el.appendChild(span);\n  }\n\n  findFileDiv(index) {\n    return this.container.querySelector(`.dff-file-id-${index}`);\n  }\n\n  setSuccess(index, size) {\n    const { translations } = this;\n\n    const el = this.findFileDiv(index);\n    el.classList.add(\"dff-upload-success\");\n\n    const fileSizeInfo = document.createElement(\"span\");\n    fileSizeInfo.innerHTML = formatBytes(size, 2);\n    fileSizeInfo.className = \"dff-filesize\";\n\n    el.appendChild(fileSizeInfo);\n\n    const deleteLink = document.createElement(\"a\");\n    deleteLink.innerHTML = translations.Delete;\n    deleteLink.className = \"dff-delete\";\n    deleteLink.setAttribute(\"data-index\", index);\n    deleteLink.href = \"#\";\n\n    el.appendChild(deleteLink);\n\n    this.removeProgress(index);\n    this.removeCancel(index);\n  }\n\n  removeProgress(index) {\n    const el = this.findFileDiv(index);\n\n    const progressSpan = el.querySelector(\".dff-progress\");\n\n    if (progressSpan) {\n      progressSpan.remove();\n    }\n  }\n\n  removeCancel(index) {\n    const el = this.findFileDiv(index);\n\n    const cancelSpan = el.querySelector(\".dff-cancel\");\n\n    if (cancelSpan) {\n      cancelSpan.remove();\n    }\n  }\n\n  clearInput() {\n    const { input } = this;\n\n    input.value = \"\";\n  }\n\n  updateProgress(index, percentage) {\n    const el = this.container.querySelector(`.dff-file-id-${index}`);\n    const innerProgressSpan = el.querySelector(\".dff-progress-inner\");\n\n    if (innerProgressSpan) {\n      innerProgressSpan.style.width = `${percentage}%`;\n    }\n  }\n\n  renderDropHint() {\n    if (this.container.querySelector(\".dff-drop-hint\")) {\n      return;\n    }\n\n    const dropHint = document.createElement(\"div\");\n    dropHint.className = \"dff-drop-hint\";\n    dropHint.innerHTML = this.translations[\"Drop your files here\"];\n\n    this.container.appendChild(dropHint);\n  }\n\n  removeDropHint() {\n    const dropHint = this.container.querySelector(\".dff-drop-hint\");\n\n    if (dropHint) {\n      dropHint.remove();\n    }\n  }\n}\n\nclass UploadFile {\n  constructor({\n    callbacks,\n    fieldName,\n    form,\n    formId,\n    initial,\n    input,\n    multiple,\n    parent,\n    prefix,\n    retryDelays,\n    skipRequired,\n    supportDropArea,\n    translations,\n    uploadUrl\n  }) {\n    this.callbacks = callbacks;\n    this.fieldName = fieldName;\n    this.form = form;\n    this.formId = formId;\n    this.multiple = multiple;\n    this.prefix = prefix;\n    this.retryDelays = retryDelays;\n    this.supportDropArea = supportDropArea;\n    this.uploadUrl = uploadUrl;\n\n    this.uploadIndex = 0;\n    this.uploads = [];\n\n    this.renderer = new RenderUploadFile({ parent, input, skipRequired, translations });\n    const filesContainer = this.renderer.container;\n\n    if (supportDropArea) {\n      this.initDropArea(filesContainer);\n    }\n\n    if (initial) {\n      this.addInitialFiles(initial);\n    }\n\n    this.checkDropHint();\n\n    input.addEventListener(\"change\", this.onChange);\n    filesContainer.addEventListener(\"click\", this.onClick);\n  }\n\n  addInitialFiles(initialFiles) {\n    if (initialFiles.length === 0) {\n      return;\n    }\n\n    const { multiple, renderer } = this;\n\n    const addInitialFile = (file, i) => {\n      const { id, name, size } = file;\n      renderer.addUploadedFile(name, i, size);\n\n      if (file.placeholder) {\n        this.uploads.push({ id, name, placeholder: true, size });\n      } else {\n        const url = `${this.uploadUrl}${file.id}`;\n        this.uploads.push({ id, name, placeholder: false, size, url });\n      }\n    };\n\n    if (multiple) {\n      let uploadIndex = 0;\n\n      initialFiles.forEach(file => {\n        addInitialFile(file, uploadIndex);\n        uploadIndex += 1;\n      });\n    } else {\n      addInitialFile(initialFiles[0], 0);\n    }\n  }\n\n  uploadFiles = files => {\n    if (files.length === 0) {\n      return;\n    }\n\n    if (!this.multiple && this.uploads.length !== 0) {\n      this.renderer.deleteFile(0);\n      this.uploads = [];\n    }\n\n    files.forEach(file => {\n      const { fieldName, formId, renderer, uploads, uploadUrl } = this;\n      const filename = file.name;\n      const uploadIndex = uploads.length;\n\n      const upload = new Upload(file, {\n        endpoint: uploadUrl,\n        metadata: { fieldName, filename, formId },\n        onError: error => this.handleError(uploadIndex, error),\n        onProgress: (bytesUploaded, bytesTotal) => this.handleProgress(uploadIndex, bytesUploaded, bytesTotal),\n        onSuccess: () => this.handleSuccess(uploadIndex, upload.file.size),\n        retryDelays: this.retryDelays || [0, 1000, 3000, 5000]\n      });\n\n      upload.start();\n      renderer.addNewUpload(filename, uploadIndex);\n\n      this.uploads.push(upload);\n    });\n\n    this.checkDropHint();\n  };\n\n  onChange = e => {\n    this.uploadFiles([...e.target.files]);\n  };\n\n  onClick = e => {\n    const { target } = e;\n\n    if (target.classList.contains(\"dff-delete\")) {\n      const uploadIndex = parseInt(target.getAttribute(\"data-index\"), 10);\n      this.handleDelete(uploadIndex);\n\n      e.preventDefault();\n    } else if (target.classList.contains(\"dff-cancel\")) {\n      const uploadIndex = parseInt(target.getAttribute(\"data-index\"), 10);\n      this.handleCancel(uploadIndex);\n\n      e.preventDefault();\n    }\n  };\n\n  handleProgress = (uploadIndex, bytesUploaded, bytesTotal) => {\n    const percentage = ((bytesUploaded / bytesTotal) * 100).toFixed(2);\n\n    this.renderer.updateProgress(uploadIndex, percentage);\n\n    const { onProgress } = this.callbacks;\n\n    if (onProgress) {\n      const upload = this.uploads[uploadIndex];\n      onProgress(bytesUploaded, bytesTotal, upload);\n    }\n  };\n\n  handleError = (uploadIndex, error) => {\n    this.renderer.setError(uploadIndex);\n\n    const { onError } = this.callbacks;\n\n    if (onError) {\n      const upload = this.uploads[uploadIndex];\n      onError(error, upload);\n    }\n  };\n\n  handleSuccess = (uploadIndex, uploadedSize) => {\n    const { renderer } = this;\n\n    renderer.clearInput();\n    renderer.setSuccess(uploadIndex, uploadedSize);\n\n    const { onSuccess } = this.callbacks;\n\n    if (onSuccess) {\n      const upload = this.uploads[uploadIndex];\n      onSuccess(upload);\n    }\n  };\n\n  handleDelete(uploadIndex) {\n    const { placeholder } = this.uploads[uploadIndex];\n\n    if (placeholder) {\n      this.deletePlaceholder(uploadIndex);\n    } else {\n      this.deleteFromServer(uploadIndex);\n    }\n  }\n\n  deleteUpload(uploadIndex) {\n    const upload = this.uploads[uploadIndex];\n\n    this.renderer.deleteFile(uploadIndex);\n    delete this.uploads[uploadIndex];\n    this.checkDropHint();\n\n    const { onDelete } = this.callbacks;\n    if (onDelete) {\n      onDelete(upload);\n    }\n  }\n\n  deleteFromServer(uploadIndex) {\n    const { url } = this.uploads[uploadIndex];\n\n    const xhr = new window.XMLHttpRequest();\n    xhr.open(\"DELETE\", url);\n\n    xhr.onload = () => {\n      if (xhr.status === 204) {\n        this.deleteUpload(uploadIndex);\n      } else {\n        this.renderer.setDeleteFailed(uploadIndex);\n      }\n    };\n    xhr.setRequestHeader(\"Tus-Resumable\", \"1.0.0\");\n    xhr.send(null);\n  }\n\n  deletePlaceholder(uploadIndex) {\n    this.deleteUpload(uploadIndex);\n    this.updatePlaceholderInput();\n  }\n\n  handleCancel(uploadIndex) {\n    const upload = this.uploads[uploadIndex];\n    upload.abort(true);\n\n    this.deleteUpload(uploadIndex);\n  }\n\n  initDropArea(container) {\n    new DropArea({\n      container,\n      onUploadFiles: this.uploadFiles\n    });\n  }\n\n  checkDropHint() {\n    if (!this.supportDropArea) {\n      return;\n    }\n\n    const nonEmptyUploads = this.uploads.filter(e => e);\n\n    if (nonEmptyUploads.length === 0) {\n      this.renderer.renderDropHint();\n    } else {\n      this.renderer.removeDropHint();\n    }\n  }\n\n  updatePlaceholderInput() {\n    const placeholdersInfo = this.uploads\n      .filter(upload => upload.placeholder)\n      .map(({ id, name, placeholder, size }) => ({ id, name, placeholder, size }));\n\n    const input = findInput(this.form, getPlaceholderFieldName(this.fieldName, this.prefix), this.prefix);\n    input.value = JSON.stringify(placeholdersInfo);\n  }\n}\n\nclass DropArea {\n  constructor({ container, onUploadFiles }) {\n    this.container = container;\n    this.onUploadFiles = onUploadFiles;\n\n    container.addEventListener(\"dragenter\", () => {\n      container.classList.add(\"dff-dropping\");\n    });\n    container.addEventListener(\"dragleave\", () => {\n      container.classList.remove(\"dff-dropping\");\n    });\n    container.addEventListener(\"dragover\", e => {\n      container.classList.add(\"dff-dropping\");\n      e.preventDefault();\n    });\n    container.addEventListener(\"drop\", this.onDrop);\n  }\n\n  onDrop = e => {\n    this.container.classList.remove(\"dff-dropping\");\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.onUploadFiles([...e.dataTransfer.files]);\n  };\n}\n\nconst getInputNameWithPrefix = (fieldName, prefix) => (prefix ? `${prefix}-${fieldName}` : fieldName);\nconst getInputNameWithoutPrefix = (fieldName, prefix) => (prefix ? fieldName.slice(prefix.length + 1) : fieldName);\nconst getPlaceholderFieldName = (fieldName, prefix) => `placeholder-${getInputNameWithoutPrefix(fieldName, prefix)}`;\n\nconst findInput = (form, fieldName, prefix) => {\n  const inputNameWithPrefix = getInputNameWithPrefix(fieldName, prefix);\n  const input = form.querySelector(`[name=\"${inputNameWithPrefix}\"]`);\n\n  if (!input) {\n    console.error(`Cannot find input with name '${inputNameWithPrefix}'`);\n    return null;\n  }\n\n  return input;\n};\n\nconst getInputValueForFormAndPrefix = (form, fieldName, prefix) => findInput(form, fieldName, prefix).value;\n\nconst initFormSet = (form, optionsParam) => {\n  let options;\n\n  if (typeof optionsParam === \"string\") {\n    options = { prefix: optionsParam };\n  } else {\n    options = optionsParam;\n  }\n\n  const prefix = options.prefix || \"form\";\n\n  const formCount = parseInt(getInputValueForFormAndPrefix(form, \"TOTAL_FORMS\", prefix), 10);\n\n  for (let i = 0; i < formCount; i += 1) {\n    const subFormPrefix = getInputNameWithPrefix(`${i}`);\n    initUploadFields(form, {\n      ...options,\n      prefix: `${prefix}-${subFormPrefix}`\n    });\n  }\n};\n\nconst initUploadFields = (form, options = {}) => {\n  const matchesPrefix = fieldName => {\n    if (!(options && options.prefix)) {\n      return true;\n    }\n\n    return fieldName.startsWith(`${options.prefix}-`);\n  };\n\n  const getPrefix = () => (options && options.prefix ? options.prefix : null);\n\n  const getInputValue = fieldName => getInputValueForFormAndPrefix(form, fieldName, getPrefix());\n\n  const getInitialFiles = element => {\n    const filesData = element.dataset.files;\n\n    if (!filesData) {\n      return [];\n    }\n\n    return JSON.parse(filesData);\n  };\n\n  const getPlaceholders = fieldName => JSON.parse(getInputValue(getPlaceholderFieldName(fieldName, getPrefix())));\n\n  const uploadUrl = getInputValue(\"upload_url\");\n  const formId = getInputValue(\"form_id\");\n  const skipRequired = options.skipRequired || false;\n  const prefix = getPrefix();\n\n  if (!formId || !uploadUrl) {\n    return;\n  }\n\n  form.querySelectorAll(\".dff-uploader\").forEach(uploaderDiv => {\n    const container = uploaderDiv.querySelector(\".dff-container\");\n\n    if (!container) {\n      return;\n    }\n\n    const input = container.querySelector(\"input[type=file]\");\n\n    if (!(input && matchesPrefix(input.name))) {\n      return;\n    }\n\n    const fieldName = input.name;\n    const { multiple } = input;\n    const initial = getInitialFiles(container).concat(getPlaceholders(fieldName));\n    const translations = JSON.parse(container.getAttribute(\"data-translations\"));\n    const supportDropArea = !(options.supportDropArea === false);\n\n    new UploadFile({\n      callbacks: options.callbacks || {},\n      fieldName,\n      form,\n      formId,\n      initial,\n      input,\n      multiple,\n      parent: container,\n      prefix,\n      retryDelays: options.retryDelays,\n      skipRequired,\n      supportDropArea,\n      translations,\n      uploadUrl\n    });\n  });\n};\n\nglobal.initFormSet = initFormSet;\nglobal.initUploadFields = initUploadFields;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window */\n\n\n// We import the files used inside the Node environment which are rewritten\n// for browsers using the rules defined in the package.json\n\n\nvar _error = require(\"./error\");\n\nvar _error2 = _interopRequireDefault(_error);\n\nvar _extend = require(\"extend\");\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _jsBase = require(\"js-base64\");\n\nvar _request = require(\"./node/request\");\n\nvar _source = require(\"./node/source\");\n\nvar _storage = require(\"./node/storage\");\n\nvar _fingerprint = require(\"./node/fingerprint\");\n\nvar _fingerprint2 = _interopRequireDefault(_fingerprint);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultOptions = {\n  endpoint: null,\n  fingerprint: _fingerprint2.default,\n  resume: true,\n  onProgress: null,\n  onChunkComplete: null,\n  onSuccess: null,\n  onError: null,\n  headers: {},\n  chunkSize: Infinity,\n  withCredentials: false,\n  uploadUrl: null,\n  uploadSize: null,\n  overridePatchMethod: false,\n  retryDelays: null,\n  removeFingerprintOnSuccess: false,\n  uploadLengthDeferred: false,\n  urlStorage: null,\n  fileReader: null,\n  uploadDataDuringCreation: false\n};\n\nvar Upload = function () {\n  function Upload(file, options) {\n    _classCallCheck(this, Upload);\n\n    this.options = (0, _extend2.default)(true, {}, defaultOptions, options);\n\n    // The storage module used to store URLs\n    this._storage = this.options.urlStorage;\n\n    // The underlying File/Blob object\n    this.file = file;\n\n    // The URL against which the file will be uploaded\n    this.url = null;\n\n    // The underlying XHR object for the current PATCH request\n    this._xhr = null;\n\n    // The fingerpinrt for the current file (set after start())\n    this._fingerprint = null;\n\n    // The offset used in the current PATCH request\n    this._offset = null;\n\n    // True if the current PATCH request has been aborted\n    this._aborted = false;\n\n    // The file's size in bytes\n    this._size = null;\n\n    // The Source object which will wrap around the given file and provides us\n    // with a unified interface for getting its size and slice chunks from its\n    // content allowing us to easily handle Files, Blobs, Buffers and Streams.\n    this._source = null;\n\n    // The current count of attempts which have been made. Null indicates none.\n    this._retryAttempt = 0;\n\n    // The timeout's ID which is used to delay the next retry\n    this._retryTimeout = null;\n\n    // The offset of the remote upload before the latest attempt was started.\n    this._offsetBeforeRetry = 0;\n  }\n\n  _createClass(Upload, [{\n    key: \"start\",\n    value: function start() {\n      var _this = this;\n\n      var file = this.file;\n\n      if (!file) {\n        this._emitError(new Error(\"tus: no file or stream to upload provided\"));\n        return;\n      }\n\n      if (!this.options.endpoint && !this.options.uploadUrl) {\n        this._emitError(new Error(\"tus: neither an endpoint or an upload URL is provided\"));\n        return;\n      }\n\n      if (this.options.resume && this._storage == null) {\n        this._storage = (0, _storage.getStorage)();\n      }\n\n      if (this._source) {\n        this._start(this._source);\n      } else {\n        var fileReader = this.options.fileReader || _source.getSource;\n        fileReader(file, this.options.chunkSize, function (err, source) {\n          if (err) {\n            _this._emitError(err);\n            return;\n          }\n\n          _this._source = source;\n          _this._start(source);\n        });\n      }\n    }\n  }, {\n    key: \"_start\",\n    value: function _start(source) {\n      var _this2 = this;\n\n      var file = this.file;\n\n      // First, we look at the uploadLengthDeferred option.\n      // Next, we check if the caller has supplied a manual upload size.\n      // Finally, we try to use the calculated size from the source object.\n      if (this.options.uploadLengthDeferred) {\n        this._size = null;\n      } else if (this.options.uploadSize != null) {\n        this._size = +this.options.uploadSize;\n        if (isNaN(this._size)) {\n          this._emitError(new Error(\"tus: cannot convert `uploadSize` option into a number\"));\n          return;\n        }\n      } else {\n        this._size = source.size;\n        if (this._size == null) {\n          this._emitError(new Error(\"tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option\"));\n          return;\n        }\n      }\n\n      var retryDelays = this.options.retryDelays;\n      if (retryDelays != null) {\n        if (Object.prototype.toString.call(retryDelays) !== \"[object Array]\") {\n          this._emitError(new Error(\"tus: the `retryDelays` option must either be an array or null\"));\n          return;\n        } else {\n          var errorCallback = this.options.onError;\n          this.options.onError = function (err) {\n            // Restore the original error callback which may have been set.\n            _this2.options.onError = errorCallback;\n\n            // We will reset the attempt counter if\n            // - we were already able to connect to the server (offset != null) and\n            // - we were able to upload a small chunk of data to the server\n            var shouldResetDelays = _this2._offset != null && _this2._offset > _this2._offsetBeforeRetry;\n            if (shouldResetDelays) {\n              _this2._retryAttempt = 0;\n            }\n\n            var isOnline = true;\n            if (typeof window !== \"undefined\" && \"navigator\" in window && window.navigator.onLine === false) {\n              isOnline = false;\n            }\n\n            // We only attempt a retry if\n            // - we didn't exceed the maxium number of retries, yet, and\n            // - this error was caused by a request or it's response and\n            // - the error is server error (i.e. no a status 4xx or a 409 or 423) and\n            // - the browser does not indicate that we are offline\n            var status = err.originalRequest ? err.originalRequest.status : 0;\n            var isServerError = !inStatusCategory(status, 400) || status === 409 || status === 423;\n            var shouldRetry = _this2._retryAttempt < retryDelays.length && err.originalRequest != null && isServerError && isOnline;\n\n            if (!shouldRetry) {\n              _this2._emitError(err);\n              return;\n            }\n\n            var delay = retryDelays[_this2._retryAttempt++];\n\n            _this2._offsetBeforeRetry = _this2._offset;\n            _this2.options.uploadUrl = _this2.url;\n\n            _this2._retryTimeout = setTimeout(function () {\n              _this2.start();\n            }, delay);\n          };\n        }\n      }\n\n      // Reset the aborted flag when the upload is started or else the\n      // _startUpload will stop before sending a request if the upload has been\n      // aborted previously.\n      this._aborted = false;\n\n      // The upload had been started previously and we should reuse this URL.\n      if (this.url != null) {\n        this._resumeUpload();\n        return;\n      }\n\n      // A URL has manually been specified, so we try to resume\n      if (this.options.uploadUrl != null) {\n        this.url = this.options.uploadUrl;\n        this._resumeUpload();\n        return;\n      }\n\n      // Try to find the endpoint for the file in the storage\n      if (this._hasStorage()) {\n        this.options.fingerprint(file, this.options, function (err, fingerprintValue) {\n          if (err) {\n            _this2._emitError(err);\n            return;\n          }\n\n          _this2._fingerprint = fingerprintValue;\n          _this2._storage.getItem(_this2._fingerprint, function (err, resumedUrl) {\n            if (err) {\n              _this2._emitError(err);\n              return;\n            }\n\n            if (resumedUrl != null) {\n              _this2.url = resumedUrl;\n              _this2._resumeUpload();\n            } else {\n              _this2._createUpload();\n            }\n          });\n        });\n      } else {\n        // An upload has not started for the file yet, so we start a new one\n        this._createUpload();\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort(shouldTerminate, cb) {\n      var _this3 = this;\n\n      if (this._xhr !== null) {\n        this._xhr.abort();\n        this._source.close();\n      }\n      this._aborted = true;\n\n      if (this._retryTimeout != null) {\n        clearTimeout(this._retryTimeout);\n        this._retryTimeout = null;\n      }\n\n      cb = cb || function () {};\n      if (shouldTerminate) {\n        Upload.terminate(this.url, this.options, function (err, xhr) {\n          if (err) {\n            return cb(err, xhr);\n          }\n\n          _this3._hasStorage() ? _this3._storage.removeItem(_this3._fingerprint, cb) : cb();\n        });\n      } else {\n        cb();\n      }\n    }\n  }, {\n    key: \"_hasStorage\",\n    value: function _hasStorage() {\n      return this.options.resume && this._storage;\n    }\n  }, {\n    key: \"_emitXhrError\",\n    value: function _emitXhrError(xhr, err, causingErr) {\n      this._emitError(new _error2.default(err, causingErr, xhr));\n    }\n  }, {\n    key: \"_emitError\",\n    value: function _emitError(err) {\n      if (typeof this.options.onError === \"function\") {\n        this.options.onError(err);\n      } else {\n        throw err;\n      }\n    }\n  }, {\n    key: \"_emitSuccess\",\n    value: function _emitSuccess() {\n      if (typeof this.options.onSuccess === \"function\") {\n        this.options.onSuccess();\n      }\n    }\n\n    /**\n     * Publishes notification when data has been sent to the server. This\n     * data may not have been accepted by the server yet.\n     * @param  {number} bytesSent  Number of bytes sent to the server.\n     * @param  {number} bytesTotal Total number of bytes to be sent to the server.\n     */\n\n  }, {\n    key: \"_emitProgress\",\n    value: function _emitProgress(bytesSent, bytesTotal) {\n      if (typeof this.options.onProgress === \"function\") {\n        this.options.onProgress(bytesSent, bytesTotal);\n      }\n    }\n\n    /**\n     * Publishes notification when a chunk of data has been sent to the server\n     * and accepted by the server.\n     * @param  {number} chunkSize  Size of the chunk that was accepted by the\n     *                             server.\n     * @param  {number} bytesAccepted Total number of bytes that have been\n     *                                accepted by the server.\n     * @param  {number} bytesTotal Total number of bytes to be sent to the server.\n     */\n\n  }, {\n    key: \"_emitChunkComplete\",\n    value: function _emitChunkComplete(chunkSize, bytesAccepted, bytesTotal) {\n      if (typeof this.options.onChunkComplete === \"function\") {\n        this.options.onChunkComplete(chunkSize, bytesAccepted, bytesTotal);\n      }\n    }\n\n    /**\n     * Set the headers used in the request and the withCredentials property\n     * as defined in the options\n     *\n     * @param {XMLHttpRequest} xhr\n     */\n\n  }, {\n    key: \"_setupXHR\",\n    value: function _setupXHR(xhr) {\n      this._xhr = xhr;\n      setupXHR(xhr, this.options);\n    }\n\n    /**\n     * Create a new upload using the creation extension by sending a POST\n     * request to the endpoint. After successful creation the file will be\n     * uploaded\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_createUpload\",\n    value: function _createUpload() {\n      var _this4 = this;\n\n      if (!this.options.endpoint) {\n        this._emitError(new Error(\"tus: unable to create upload because no endpoint is provided\"));\n        return;\n      }\n\n      var xhr = (0, _request.newRequest)();\n      xhr.open(\"POST\", this.options.endpoint, true);\n\n      xhr.onload = function () {\n        if (!inStatusCategory(xhr.status, 200)) {\n          _this4._emitXhrError(xhr, new Error(\"tus: unexpected response while creating upload\"));\n          return;\n        }\n\n        var location = xhr.getResponseHeader(\"Location\");\n        if (location == null) {\n          _this4._emitXhrError(xhr, new Error(\"tus: invalid or missing Location header\"));\n          return;\n        }\n\n        _this4.url = (0, _request.resolveUrl)(_this4.options.endpoint, location);\n\n        if (_this4._size === 0) {\n          // Nothing to upload and file was successfully created\n          _this4._emitSuccess();\n          _this4._source.close();\n          return;\n        }\n\n        if (_this4._hasStorage()) {\n          _this4._storage.setItem(_this4._fingerprint, _this4.url, function (err) {\n            if (err) {\n              _this4._emitError(err);\n            }\n          });\n        }\n\n        if (_this4.options.uploadDataDuringCreation) {\n          _this4._handleUploadResponse(xhr);\n        } else {\n          _this4._offset = 0;\n          _this4._startUpload();\n        }\n      };\n\n      xhr.onerror = function (err) {\n        _this4._emitXhrError(xhr, new Error(\"tus: failed to create upload\"), err);\n      };\n\n      this._setupXHR(xhr);\n      if (this.options.uploadLengthDeferred) {\n        xhr.setRequestHeader(\"Upload-Defer-Length\", 1);\n      } else {\n        xhr.setRequestHeader(\"Upload-Length\", this._size);\n      }\n\n      // Add metadata if values have been added\n      var metadata = encodeMetadata(this.options.metadata);\n      if (metadata !== \"\") {\n        xhr.setRequestHeader(\"Upload-Metadata\", metadata);\n      }\n\n      if (this.options.uploadDataDuringCreation && !this.options.uploadLengthDeferred) {\n        this._offset = 0;\n        this._addChunkToRequest(xhr);\n      } else {\n        xhr.send(null);\n      }\n    }\n\n    /*\n     * Try to resume an existing upload. First a HEAD request will be sent\n     * to retrieve the offset. If the request fails a new upload will be\n     * created. In the case of a successful response the file will be uploaded.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_resumeUpload\",\n    value: function _resumeUpload() {\n      var _this5 = this;\n\n      var xhr = (0, _request.newRequest)();\n      xhr.open(\"HEAD\", this.url, true);\n\n      xhr.onload = function () {\n        if (!inStatusCategory(xhr.status, 200)) {\n          if (_this5._hasStorage() && inStatusCategory(xhr.status, 400)) {\n            // Remove stored fingerprint and corresponding endpoint,\n            // on client errors since the file can not be found\n            _this5._storage.removeItem(_this5._fingerprint, function (err) {\n              if (err) {\n                _this5._emitError(err);\n              }\n            });\n          }\n\n          // If the upload is locked (indicated by the 423 Locked status code), we\n          // emit an error instead of directly starting a new upload. This way the\n          // retry logic can catch the error and will retry the upload. An upload\n          // is usually locked for a short period of time and will be available\n          // afterwards.\n          if (xhr.status === 423) {\n            _this5._emitXhrError(xhr, new Error(\"tus: upload is currently locked; retry later\"));\n            return;\n          }\n\n          if (!_this5.options.endpoint) {\n            // Don't attempt to create a new upload if no endpoint is provided.\n            _this5._emitXhrError(xhr, new Error(\"tus: unable to resume upload (new upload cannot be created without an endpoint)\"));\n            return;\n          }\n\n          // Try to create a new upload\n          _this5.url = null;\n          _this5._createUpload();\n          return;\n        }\n\n        var offset = parseInt(xhr.getResponseHeader(\"Upload-Offset\"), 10);\n        if (isNaN(offset)) {\n          _this5._emitXhrError(xhr, new Error(\"tus: invalid or missing offset value\"));\n          return;\n        }\n\n        var length = parseInt(xhr.getResponseHeader(\"Upload-Length\"), 10);\n        if (isNaN(length) && !_this5.options.uploadLengthDeferred) {\n          _this5._emitXhrError(xhr, new Error(\"tus: invalid or missing length value\"));\n          return;\n        }\n\n        // Upload has already been completed and we do not need to send additional\n        // data to the server\n        if (offset === length) {\n          _this5._emitProgress(length, length);\n          _this5._emitSuccess();\n          return;\n        }\n\n        _this5._offset = offset;\n        _this5._startUpload();\n      };\n\n      xhr.onerror = function (err) {\n        _this5._emitXhrError(xhr, new Error(\"tus: failed to resume upload\"), err);\n      };\n\n      this._setupXHR(xhr);\n      xhr.send(null);\n    }\n\n    /**\n     * Start uploading the file using PATCH requests. The file will be divided\n     * into chunks as specified in the chunkSize option. During the upload\n     * the onProgress event handler may be invoked multiple times.\n     *\n     * @api private\n     */\n\n  }, {\n    key: \"_startUpload\",\n    value: function _startUpload() {\n      var _this6 = this;\n\n      // If the upload has been aborted, we will not send the next PATCH request.\n      // This is important if the abort method was called during a callback, such\n      // as onChunkComplete or onProgress.\n      if (this._aborted) {\n        return;\n      }\n\n      var xhr = (0, _request.newRequest)();\n\n      // Some browser and servers may not support the PATCH method. For those\n      // cases, you can tell tus-js-client to use a POST request with the\n      // X-HTTP-Method-Override header for simulating a PATCH request.\n      if (this.options.overridePatchMethod) {\n        xhr.open(\"POST\", this.url, true);\n        xhr.setRequestHeader(\"X-HTTP-Method-Override\", \"PATCH\");\n      } else {\n        xhr.open(\"PATCH\", this.url, true);\n      }\n\n      xhr.onload = function () {\n        if (!inStatusCategory(xhr.status, 200)) {\n          _this6._emitXhrError(xhr, new Error(\"tus: unexpected response while uploading chunk\"));\n          return;\n        }\n\n        _this6._handleUploadResponse(xhr);\n      };\n\n      xhr.onerror = function (err) {\n        // Don't emit an error if the upload was aborted manually\n        if (_this6._aborted) {\n          return;\n        }\n\n        _this6._emitXhrError(xhr, new Error(\"tus: failed to upload chunk at offset \" + _this6._offset), err);\n      };\n\n      this._setupXHR(xhr);\n\n      xhr.setRequestHeader(\"Upload-Offset\", this._offset);\n      this._addChunkToRequest(xhr);\n    }\n\n    /**\n     * _addChunktoRequest reads a chunk from the source and sends it using the\n     * supplied XHR object. It will not handle the response.\n     */\n\n  }, {\n    key: \"_addChunkToRequest\",\n    value: function _addChunkToRequest(xhr) {\n      var _this7 = this;\n\n      // Test support for progress events before attaching an event listener\n      if (\"upload\" in xhr) {\n        xhr.upload.onprogress = function (e) {\n          if (!e.lengthComputable) {\n            return;\n          }\n\n          _this7._emitProgress(start + e.loaded, _this7._size);\n        };\n      }\n\n      xhr.setRequestHeader(\"Content-Type\", \"application/offset+octet-stream\");\n\n      var start = this._offset;\n      var end = this._offset + this.options.chunkSize;\n\n      // The specified chunkSize may be Infinity or the calcluated end position\n      // may exceed the file's size. In both cases, we limit the end position to\n      // the input's total size for simpler calculations and correctness.\n      if ((end === Infinity || end > this._size) && !this.options.uploadLengthDeferred) {\n        end = this._size;\n      }\n\n      this._source.slice(start, end, function (err, value, complete) {\n        if (err) {\n          _this7._emitError(err);\n          return;\n        }\n\n        if (_this7.options.uploadLengthDeferred) {\n          if (complete) {\n            _this7._size = _this7._offset + (value && value.size ? value.size : 0);\n            xhr.setRequestHeader(\"Upload-Length\", _this7._size);\n          }\n        }\n\n        if (value === null) {\n          xhr.send();\n        } else {\n          xhr.send(value);\n          _this7._emitProgress(_this7._offset, _this7._size);\n        }\n      });\n    }\n\n    /**\n     * _handleUploadResponse is used by requests that haven been sent using _addChunkToRequest\n     * and already have received a response.\n     */\n\n  }, {\n    key: \"_handleUploadResponse\",\n    value: function _handleUploadResponse(xhr) {\n      var _this8 = this;\n\n      var offset = parseInt(xhr.getResponseHeader(\"Upload-Offset\"), 10);\n      if (isNaN(offset)) {\n        this._emitXhrError(xhr, new Error(\"tus: invalid or missing offset value\"));\n        return;\n      }\n\n      this._emitProgress(offset, this._size);\n      this._emitChunkComplete(offset - this._offset, offset, this._size);\n\n      this._offset = offset;\n\n      if (offset == this._size) {\n        if (this.options.removeFingerprintOnSuccess && this.options.resume) {\n          // Remove stored fingerprint and corresponding endpoint. This causes\n          // new upload of the same file must be treated as a different file.\n          this._storage.removeItem(this._fingerprint, function (err) {\n            if (err) {\n              _this8._emitError(err);\n            }\n          });\n        }\n\n        // Yay, finally done :)\n        this._emitSuccess();\n        this._source.close();\n        return;\n      }\n\n      this._startUpload();\n    }\n  }], [{\n    key: \"terminate\",\n    value: function terminate(url, options, cb) {\n      if (typeof options !== \"function\" && typeof cb !== \"function\") {\n        throw new Error(\"tus: a callback function must be specified\");\n      }\n\n      if (typeof options === \"function\") {\n        cb = options;\n        options = {};\n      }\n\n      var xhr = (0, _request.newRequest)();\n      xhr.open(\"DELETE\", url, true);\n\n      xhr.onload = function () {\n        if (xhr.status !== 204) {\n          cb(new _error2.default(new Error(\"tus: unexpected response while terminating upload\"), null, xhr));\n          return;\n        }\n\n        cb();\n      };\n\n      xhr.onerror = function (err) {\n        cb(new _error2.default(err, new Error(\"tus: failed to terminate upload\"), xhr));\n      };\n\n      setupXHR(xhr, options);\n      xhr.send(null);\n    }\n  }]);\n\n  return Upload;\n}();\n\nfunction encodeMetadata(metadata) {\n  var encoded = [];\n\n  for (var key in metadata) {\n    encoded.push(key + \" \" + _jsBase.Base64.encode(metadata[key]));\n  }\n\n  return encoded.join(\",\");\n}\n\n/**\n * Checks whether a given status is in the range of the expected category.\n * For example, only a status between 200 and 299 will satisfy the category 200.\n *\n * @api private\n */\nfunction inStatusCategory(status, category) {\n  return status >= category && status < category + 100;\n}\n\nfunction setupXHR(xhr, options) {\n  xhr.setRequestHeader(\"Tus-Resumable\", \"1.0.0\");\n  var headers = options.headers || {};\n\n  for (var name in headers) {\n    xhr.setRequestHeader(name, headers[name]);\n  }\n\n  xhr.withCredentials = options.withCredentials;\n}\n\nUpload.defaultOptions = defaultOptions;\n\nexports.default = Upload;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DetailedError = function (_Error) {\n  _inherits(DetailedError, _Error);\n\n  function DetailedError(error) {\n    var causingErr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var xhr = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, DetailedError);\n\n    var _this = _possibleConstructorReturn(this, (DetailedError.__proto__ || Object.getPrototypeOf(DetailedError)).call(this, error.message));\n\n    _this.originalRequest = xhr;\n    _this.causingError = causingErr;\n\n    var message = error.message;\n    if (causingErr != null) {\n      message += \", caused by \" + causingErr.toString();\n    }\n    if (xhr != null) {\n      message += \", originated from request (response code: \" + xhr.status + \", response text: \" + xhr.responseText + \")\";\n    }\n    _this.message = message;\n    return _this;\n  }\n\n  return DetailedError;\n}(Error);\n\nexports.default = DetailedError;","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","/*\n *  base64.js\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? module.exports = factory(global)\n        : typeof define === 'function' && define.amd\n        ? define(factory) : factory(global)\n}((\n    typeof self !== 'undefined' ? self\n        : typeof window !== 'undefined' ? window\n        : typeof global !== 'undefined' ? global\n: this\n), function(global) {\n    'use strict';\n    // existing version for noConflict()\n    global = global || {};\n    var _Base64 = global.Base64;\n    var version = \"2.5.1\";\n    // if node.js and NOT React Native, we use Buffer\n    var buffer;\n    if (typeof module !== 'undefined' && module.exports) {\n        try {\n            buffer = eval(\"require('buffer').Buffer\");\n        } catch (err) {\n            buffer = undefined;\n        }\n    }\n    // constants\n    var b64chars\n        = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    var b64tab = function(bin) {\n        var t = {};\n        for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n        return t;\n    }(b64chars);\n    var fromCharCode = String.fromCharCode;\n    // encoder stuff\n    var cb_utob = function(c) {\n        if (c.length < 2) {\n            var cc = c.charCodeAt(0);\n            return cc < 0x80 ? c\n                : cc < 0x800 ? (fromCharCode(0xc0 | (cc >>> 6))\n                                + fromCharCode(0x80 | (cc & 0x3f)))\n                : (fromCharCode(0xe0 | ((cc >>> 12) & 0x0f))\n                   + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                   + fromCharCode(0x80 | ( cc         & 0x3f)));\n        } else {\n            var cc = 0x10000\n                + (c.charCodeAt(0) - 0xD800) * 0x400\n                + (c.charCodeAt(1) - 0xDC00);\n            return (fromCharCode(0xf0 | ((cc >>> 18) & 0x07))\n                    + fromCharCode(0x80 | ((cc >>> 12) & 0x3f))\n                    + fromCharCode(0x80 | ((cc >>>  6) & 0x3f))\n                    + fromCharCode(0x80 | ( cc         & 0x3f)));\n        }\n    };\n    var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n    var utob = function(u) {\n        return u.replace(re_utob, cb_utob);\n    };\n    var cb_encode = function(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n        ord = ccc.charCodeAt(0) << 16\n            | ((ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8)\n            | ((ccc.length > 2 ? ccc.charCodeAt(2) : 0)),\n        chars = [\n            b64chars.charAt( ord >>> 18),\n            b64chars.charAt((ord >>> 12) & 63),\n            padlen >= 2 ? '=' : b64chars.charAt((ord >>> 6) & 63),\n            padlen >= 1 ? '=' : b64chars.charAt(ord & 63)\n        ];\n        return chars.join('');\n    };\n    var btoa = global.btoa ? function(b) {\n        return global.btoa(b);\n    } : function(b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n    };\n    var _encode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function (u) {\n            return (u.constructor === buffer.constructor ? u : buffer.from(u))\n                .toString('base64')\n        }\n        :  function (u) {\n            return (u.constructor === buffer.constructor ? u : new  buffer(u))\n                .toString('base64')\n        }\n        : function (u) { return btoa(utob(u)) }\n    ;\n    var encode = function(u, urisafe) {\n        return !urisafe\n            ? _encode(String(u))\n            : _encode(String(u)).replace(/[+\\/]/g, function(m0) {\n                return m0 == '+' ? '-' : '_';\n            }).replace(/=/g, '');\n    };\n    var encodeURI = function(u) { return encode(u, true) };\n    // decoder stuff\n    var re_btou = new RegExp([\n        '[\\xC0-\\xDF][\\x80-\\xBF]',\n        '[\\xE0-\\xEF][\\x80-\\xBF]{2}',\n        '[\\xF0-\\xF7][\\x80-\\xBF]{3}'\n    ].join('|'), 'g');\n    var cb_btou = function(cccc) {\n        switch(cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                |    ((0x3f & cccc.charCodeAt(1)) << 12)\n                |    ((0x3f & cccc.charCodeAt(2)) <<  6)\n                |     (0x3f & cccc.charCodeAt(3)),\n            offset = cp - 0x10000;\n            return (fromCharCode((offset  >>> 10) + 0xD800)\n                    + fromCharCode((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return fromCharCode(\n                ((0x0f & cccc.charCodeAt(0)) << 12)\n                    | ((0x3f & cccc.charCodeAt(1)) << 6)\n                    |  (0x3f & cccc.charCodeAt(2))\n            );\n        default:\n            return  fromCharCode(\n                ((0x1f & cccc.charCodeAt(0)) << 6)\n                    |  (0x3f & cccc.charCodeAt(1))\n            );\n        }\n    };\n    var btou = function(b) {\n        return b.replace(re_btou, cb_btou);\n    };\n    var cb_decode = function(cccc) {\n        var len = cccc.length,\n        padlen = len % 4,\n        n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0)\n            | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0)\n            | (len > 2 ? b64tab[cccc.charAt(2)] <<  6 : 0)\n            | (len > 3 ? b64tab[cccc.charAt(3)]       : 0),\n        chars = [\n            fromCharCode( n >>> 16),\n            fromCharCode((n >>>  8) & 0xff),\n            fromCharCode( n         & 0xff)\n        ];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n    };\n    var _atob = global.atob ? function(a) {\n        return global.atob(a);\n    } : function(a){\n        return a.replace(/\\S{1,4}/g, cb_decode);\n    };\n    var atob = function(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n    };\n    var _decode = buffer ?\n        buffer.from && Uint8Array && buffer.from !== Uint8Array.from\n        ? function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : buffer.from(a, 'base64')).toString();\n        }\n        : function(a) {\n            return (a.constructor === buffer.constructor\n                    ? a : new buffer(a, 'base64')).toString();\n        }\n        : function(a) { return btou(_atob(a)) };\n    var decode = function(a){\n        return _decode(\n            String(a).replace(/[-_]/g, function(m0) { return m0 == '-' ? '+' : '/' })\n                .replace(/[^A-Za-z0-9\\+\\/]/g, '')\n        );\n    };\n    var noConflict = function() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n    };\n    // export Base64\n    global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        __buffer__: buffer\n    };\n    // if ES5 is available, make Base64.extendString() available\n    if (typeof Object.defineProperty === 'function') {\n        var noEnum = function(v){\n            return {value:v,enumerable:false,writable:true,configurable:true};\n        };\n        global.Base64.extendString = function () {\n            Object.defineProperty(\n                String.prototype, 'fromBase64', noEnum(function () {\n                    return decode(this)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64', noEnum(function (urisafe) {\n                    return encode(this, urisafe)\n                }));\n            Object.defineProperty(\n                String.prototype, 'toBase64URI', noEnum(function () {\n                    return encode(this, true)\n                }));\n        };\n    }\n    //\n    // export Base64 to the namespace\n    //\n    if (global['Meteor']) { // Meteor.js\n        Base64 = global.Base64;\n    }\n    // module.exports and AMD are mutually exclusive.\n    // module.exports has precedence.\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports.Base64 = global.Base64;\n    }\n    else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function(){ return global.Base64 });\n    }\n    // that's it!\n    return {Base64: global.Base64}\n}));\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.newRequest = newRequest;\nexports.resolveUrl = resolveUrl;\n\nvar _urlParse = require(\"url-parse\");\n\nvar _urlParse2 = _interopRequireDefault(_urlParse);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction newRequest() {\n  return new window.XMLHttpRequest();\n} /* global window */\nfunction resolveUrl(origin, link) {\n  return new _urlParse2.default(link, origin).toString();\n}","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i\n  , whitespace = '[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]'\n  , left = new RegExp('^'+ whitespace +'+');\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address) {          // Sanitize what is left of the address\n    return address.replace('\\\\', '/');\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address) {\n  address = trimLeft(address);\n  var match = protocolre.exec(address);\n\n  return {\n    protocol: match[1] ? match[1].toLowerCase() : '',\n    slashes: !!match[2],\n    rest: match[3]\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encodeURIComponent(key);\n      value = encodeURIComponent(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getSource = getSource;\n\nvar _isReactNative = require(\"./isReactNative\");\n\nvar _isReactNative2 = _interopRequireDefault(_isReactNative);\n\nvar _uriToBlob = require(\"./uriToBlob\");\n\nvar _uriToBlob2 = _interopRequireDefault(_uriToBlob);\n\nvar _isCordova = require(\"./isCordova\");\n\nvar _isCordova2 = _interopRequireDefault(_isCordova);\n\nvar _readAsByteArray = require(\"./readAsByteArray\");\n\nvar _readAsByteArray2 = _interopRequireDefault(_readAsByteArray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar FileSource = function () {\n  function FileSource(file) {\n    _classCallCheck(this, FileSource);\n\n    this._file = file;\n    this.size = file.size;\n  }\n\n  _createClass(FileSource, [{\n    key: \"slice\",\n    value: function slice(start, end, callback) {\n      // In Apache Cordova applications, a File must be resolved using\n      // FileReader instances, see\n      // https://cordova.apache.org/docs/en/8.x/reference/cordova-plugin-file/index.html#read-a-file\n      if ((0, _isCordova2.default)()) {\n        (0, _readAsByteArray2.default)(this._file.slice(start, end), function (err, chunk) {\n          if (err) return callback(err);\n\n          callback(null, chunk);\n        });\n        return;\n      }\n\n      callback(null, this._file.slice(start, end));\n    }\n  }, {\n    key: \"close\",\n    value: function close() {}\n  }]);\n\n  return FileSource;\n}();\n\nvar StreamSource = function () {\n  function StreamSource(reader, chunkSize) {\n    _classCallCheck(this, StreamSource);\n\n    this._chunkSize = chunkSize;\n    this._buffer = undefined;\n    this._bufferOffset = 0;\n    this._reader = reader;\n    this._done = false;\n  }\n\n  _createClass(StreamSource, [{\n    key: \"slice\",\n    value: function slice(start, end, callback) {\n      if (start < this._bufferOffset) {\n        callback(new Error(\"Requested data is before the reader's current offset\"));\n        return;\n      }\n\n      return this._readUntilEnoughDataOrDone(start, end, callback);\n    }\n  }, {\n    key: \"_readUntilEnoughDataOrDone\",\n    value: function _readUntilEnoughDataOrDone(start, end, callback) {\n      var _this = this;\n\n      var hasEnoughData = end <= this._bufferOffset + len(this._buffer);\n      if (this._done || hasEnoughData) {\n        var value = this._getDataFromBuffer(start, end);\n        callback(null, value, value == null ? this._done : false);\n        return;\n      }\n      this._reader.read().then(function (_ref) {\n        var value = _ref.value,\n            done = _ref.done;\n\n        if (done) {\n          _this._done = true;\n        } else if (_this._buffer === undefined) {\n          _this._buffer = value;\n        } else {\n          _this._buffer = concat(_this._buffer, value);\n        }\n\n        _this._readUntilEnoughDataOrDone(start, end, callback);\n      }).catch(function (err) {\n        callback(new Error(\"Error during read: \" + err));\n      });\n    }\n  }, {\n    key: \"_getDataFromBuffer\",\n    value: function _getDataFromBuffer(start, end) {\n      // Remove data from buffer before `start`.\n      // Data might be reread from the buffer if an upload fails, so we can only\n      // safely delete data when it comes *before* what is currently being read.\n      if (start > this._bufferOffset) {\n        this._buffer = this._buffer.slice(start - this._bufferOffset);\n        this._bufferOffset = start;\n      }\n      // If the buffer is empty after removing old data, all data has been read.\n      var hasAllDataBeenRead = len(this._buffer) === 0;\n      if (this._done && hasAllDataBeenRead) {\n        return null;\n      }\n      // We already removed data before `start`, so we just return the first\n      // chunk from the buffer.\n      return this._buffer.slice(0, end - start);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      if (this._reader.cancel) {\n        this._reader.cancel();\n      }\n    }\n  }]);\n\n  return StreamSource;\n}();\n\nfunction len(blobOrArray) {\n  if (blobOrArray === undefined) return 0;\n  if (blobOrArray.size !== undefined) return blobOrArray.size;\n  return blobOrArray.length;\n}\n\n/*\n  Typed arrays and blobs don't have a concat method.\n  This function helps StreamSource accumulate data to reach chunkSize.\n*/\nfunction concat(a, b) {\n  if (a.concat) {\n    // Is `a` an Array?\n    return a.concat(b);\n  }\n  if (a instanceof Blob) {\n    return new Blob([a, b], { type: a.type });\n  }\n  if (a.set) {\n    // Is `a` a typed array?\n    var c = new a.constructor(a.length + b.length);\n    c.set(a);\n    c.set(b, a.length);\n    return c;\n  }\n  throw new Error(\"Unknown data type\");\n}\n\nfunction getSource(input, chunkSize, callback) {\n  // In React Native, when user selects a file, instead of a File or Blob,\n  // you usually get a file object {} with a uri property that contains\n  // a local path to the file. We use XMLHttpRequest to fetch\n  // the file blob, before uploading with tus.\n  if ((0, _isReactNative2.default)() && input && typeof input.uri !== \"undefined\") {\n    (0, _uriToBlob2.default)(input.uri, function (err, blob) {\n      if (err) {\n        return callback(new Error(\"tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. \" + err));\n      }\n      callback(null, new FileSource(blob));\n    });\n    return;\n  }\n\n  // Since we emulate the Blob type in our tests (not all target browsers\n  // support it), we cannot use `instanceof` for testing whether the input value\n  // can be handled. Instead, we simply check is the slice() function and the\n  // size property are available.\n  if (typeof input.slice === \"function\" && typeof input.size !== \"undefined\") {\n    callback(null, new FileSource(input));\n    return;\n  }\n\n  if (typeof input.read === \"function\") {\n    chunkSize = +chunkSize;\n    if (!isFinite(chunkSize)) {\n      callback(new Error(\"cannot create source for stream without a finite value for the `chunkSize` option\"));\n      return;\n    }\n    callback(null, new StreamSource(input, chunkSize));\n    return;\n  }\n\n  callback(new Error(\"source object may only be an instance of File, Blob, or Reader in this environment\"));\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * uriToBlob resolves a URI to a Blob object. This is used for\n * React Native to retrieve a file (identified by a file://\n * URI) as a blob.\n */\nfunction uriToBlob(uri, done) {\n  var xhr = new XMLHttpRequest();\n  xhr.responseType = \"blob\";\n  xhr.onload = function () {\n    var blob = xhr.response;\n    done(null, blob);\n  };\n  xhr.onerror = function (err) {\n    done(err);\n  };\n  xhr.open(\"GET\", uri);\n  xhr.send();\n}\n\nexports.default = uriToBlob;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar isCordova = function isCordova() {\n  return typeof window != \"undefined\" && (typeof window.PhoneGap != \"undefined\" || typeof window.Cordova != \"undefined\" || typeof window.cordova != \"undefined\");\n};\n\nexports.default = isCordova;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * readAsByteArray converts a File object to a Uint8Array.\n * This function is only used on the Apache Cordova platform.\n * See https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-file/index.html#read-a-file\n */\nfunction readAsByteArray(chunk, callback) {\n  var reader = new FileReader();\n  reader.onload = function () {\n    callback(null, new Uint8Array(reader.result));\n  };\n  reader.onerror = function (err) {\n    callback(err);\n  };\n  reader.readAsArrayBuffer(chunk);\n}\n\nexports.default = readAsByteArray;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = fingerprint;\n\nvar _isReactNative = require(\"./isReactNative\");\n\nvar _isReactNative2 = _interopRequireDefault(_isReactNative);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Generate a fingerprint for a file which will be used the store the endpoint\n *\n * @param {File} file\n * @param {Object} options\n * @param {Function} callback\n */\nfunction fingerprint(file, options, callback) {\n  if ((0, _isReactNative2.default)()) {\n    return callback(null, reactNativeFingerprint(file, options));\n  }\n\n  return callback(null, [\"tus-br\", file.name, file.type, file.size, file.lastModified, options.endpoint].join(\"-\"));\n}\n\nfunction reactNativeFingerprint(file, options) {\n  var exifHash = file.exif ? hashCode(JSON.stringify(file.exif)) : \"noexif\";\n  return [\"tus-rn\", file.name || \"noname\", file.size || \"nosize\", exifHash, options.endpoint].join(\"/\");\n}\n\nfunction hashCode(str) {\n  // from https://stackoverflow.com/a/8831937/151666\n  var hash = 0;\n  if (str.length === 0) {\n    return hash;\n  }\n  for (var i = 0; i < str.length; i++) {\n    var char = str.charCodeAt(i);\n    hash = (hash << 5) - hash + char;\n    hash = hash & hash; // Convert to 32bit integer\n  }\n  return hash;\n}"],"sourceRoot":""}